# SplitPic - 智能图片工具

一个高效、易用的Web图片处理工具，集成图片切割和裁剪功能，支持自定义比例切割，保持原图质量，批量下载。

## ✨ 功能特性

### 📷 双重功能
- **✂️ 图片切割**: 支持 1×1 到 20×20 的任意比例切割
- **✂️ 图片裁剪**: 精确裁剪，支持8向调整、放大镜预览
- **🔄 标签页切换**: 在切割和裁剪功能间自由切换

### 图片切割功能
- 🖼️ **多格式支持**: 支持 JPG, PNG, GIF, WebP, BMP, TIFF, SVG 等主流图片格式
- 🎯 **高质量切割**: 使用 Canvas API 确保图片质量不下降
- 🎚️ **质量调节**: 支持高/中/低三档图片质量选择
- 📥 **灵活下载**: 支持单个下载、选中下载和ZIP打包下载

### 图片裁剪功能
- 🎯 **精确裁剪**: 8个调整手柄支持8个方向的精确调整
- 🔍 **放大镜预览**: 4倍放大镜辅助精确裁剪
- ⌨️ **快捷键支持**: ESC重置、Enter确认裁剪
- 📐 **实时预览**: 裁剪结果实时显示

### 通用特性
- 🎨 **美观界面**: 现代化响应式设计，支持拖拽上传
- ⚡ **性能优化**: 大图片分块处理，避免浏览器崩溃
- 🔒 **本地处理**: 所有处理都在本地完成，保护隐私

## 🚀 快速开始

### 在线使用
🔗 **访问地址**: https://fubug.github.io/splitpic/

或直接打开 `index.html` 文件即可在浏览器中使用。

### 本地部署
```bash
# 克隆或下载项目
git clone https://github.com/your-username/splitpic.git
cd splitpic

# 使用任意HTTP服务器运行（推荐）
npx serve .  # 或使用 Python, PHP, Live Server 等

# 访问 http://localhost:3000
```

## 📖 使用说明

### 图片切割功能

#### 1. 上传图片
- **拖拽上传**: 直接将图片拖拽到上传区域
- **点击选择**: 点击"选择图片文件"按钮选择图片

#### 2. 设置切割参数
- **行数**: 设置水平切割数量（1-20）
- **列数**: 设置垂直切割数量（1-20）
- **输出格式**: 选择 PNG, JPG 或 WebP 格式
- **图片质量**: 选择高/中/低三档质量

#### 3. 执行切割
- 点击"开始切割"按钮处理图片
- 系统会自动显示原图预览和切割结果

#### 4. 下载结果
- **单个下载**: 点击切割块的下载按钮
- **选择下载**: 勾选多个切割块后点击"下载选中"
- **批量下载**: 点击"打包下载全部"获取ZIP文件

### 图片裁剪功能

#### 1. 上传图片
- 点击或拖拽图片到裁剪上传区域
- 支持 JPEG, PNG, GIF, WebP 格式，最大30MB

#### 2. 调整裁剪区域
- **拖动裁剪框**: 点击裁剪框内部拖动位置
- **调整大小**: 拖动8个控制手柄调整裁剪区域
- **放大镜**: 鼠标悬停显示4倍放大的细节
- **快捷键**: ESC重置、Enter确认裁剪

#### 3. 预览和下载
- 右侧面板实时显示裁剪预览
- 点击"裁剪"按钮完成裁剪
- 点击"下载裁剪图片"保存结果

## 🛠️ 技术栈

- **前端**: HTML5 + CSS3 + JavaScript (ES6+)
- **图片处理**: Canvas API + File API
- **UI设计**: CSS Grid + Flexbox（响应式）
- **架构**: 标签页式双功能应用
- **依赖库**: 无外部依赖（可选JSZip用于打包下载）

## 📱 浏览器兼容性

| 浏览器 | 版本要求 | 支持状态 |
|--------|----------|----------|
| Chrome | 60+ | ✅ 完全支持 |
| Firefox | 55+ | ✅ 完全支持 |
| Safari | 12+ | ✅ 完全支持 |
| Edge | 79+ | ✅ 完全支持 |

## ⚡ 性能优化

- **内存管理**: 大图片分块处理，避免内存溢出
- **异步处理**: 所有图片处理操作都是异步的
- **懒加载**: 按需生成预览图片
- **缓存优化**: 智能缓存处理结果

## 🎯 使用场景

### 图片切割
- **表情包分离**: 从生成的大图中提取单个表情包
- **素材整理**: 将设计稿切割成独立素材
- **图片分割**: 制作拼图、卡片等切割需求
- **批量处理**: 快速处理大量图片切割任务

### 图片裁剪
- **照片精修**: 裁剪掉照片中不需要的部分
- **头像制作**: 裁剪并制作社交媒体头像
- **产品展示**: 突出产品重点区域
- **图像预处理**: 为切割功能预处理图片

## 📝 开发说明

### 项目结构
```
splitpic/
├── index.html              # 主页面（包含切割和裁剪功能）
├── css/
│   └── style.css          # 样式文件（包含标签页和裁剪工具样式）
├── js/
│   ├── app.js            # 统一应用控制器
│   ├── main.js           # 切割应用逻辑
│   ├── imageProcessor.js # 图片切割核心
│   ├── cropper.js        # 图片裁剪核心
│   ├── cropApp.js        # 裁剪应用逻辑
│   ├── utils.js          # 工具函数库
│   └── zip-loader.js     # ZIP库加载器
├── assets/
│   └── icons/            # 图标资源
└── README.md             # 项目说明
```

### 核心类说明

#### `UnifiedApp` (js/app.js)
统一应用控制器，负责：
- 标签页切换管理
- 切割和裁剪应用的协调
- 懒加载优化

#### `SplitPicApp` (js/main.js)
切割应用类，负责：
- UI交互和事件处理
- 文件上传和预览
- 用户状态管理

#### `ImageProcessor` (js/imageProcessor.js)
图片切割核心类，负责：
- 图片加载和验证
- 图片切割和格式转换
- 文件下载和ZIP打包

#### `CropApp` (js/cropApp.js)
裁剪应用类，负责：
- 裁剪界面交互
- 文件上传和预览
- 裁剪结果下载

#### `ImageCropper` (js/cropper.js)
图片裁剪核心类，负责：
- 裁剪框的拖拽和调整
- 实时预览更新
- 放大镜功能

#### `ZipLoader` (js/zip-loader.js)
动态加载器，负责：
- 按需加载JSZip库
- 优化初始加载性能

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发环境设置
1. Fork 项目
2. 创建功能分支: `git checkout -b feature/new-feature`
3. 提交更改: `git commit -m 'Add new feature'`
4. 推送分支: `git push origin feature/new-feature`
5. 提交 Pull Request

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🙏 致谢

- [Canvas API](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API) - 强大的图片处理能力
- [JSZip](https://stuk.github.io/jszip/) - ZIP文件创建库
- [CSS Grid](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout) - 现代化布局

---

**SplitPic** - 让图片处理变得简单高效！ 🚀

## 📞 联系方式

如有问题或建议，欢迎：
- 提交 [Issue](https://github.com/your-username/splitpic/issues)
- 发送邮件至 your-email@example.com

---

**SplitPic** - 让图片切割变得简单高效！ 🚀
